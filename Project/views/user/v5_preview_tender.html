<!DOCTYPE html>
<html>
  <head>
    <title>Preview</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/confirm_tender.css">
    <link rel="stylesheet" href="css/nav.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
    <script  src="javascript/cookies.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.js" integrity="sha256-DrT5NfxfbHvMHux31Lkhxg42LY6of8TaYyK50jnxRnM=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
    <script type="text/javascript" src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
    <!-- <script src="html2pdf.bundle.min.js"></script> -->
    
  </head>
  <header>
    <nav id="nav_bar">
      <a href="v7_homepage.html">Home</a>
      <a href="v3_see_tender.html">Tender</a>
      <a id="log_a" href="v1_login.html">Login</a>
    </nav>
  </header>
  <body>
    <div id="pdf" class="cont" style="height: 1300px;">
      <br>
      <h2>Application</h2><br>
      <div style="text-align: right;">
        <p><strong>Application Status:</strong></p>
        <p id= "app" class="status2">Submitted</p>
      </div>
      <h3 style="text-align: left;">Tender Details</h3>
      <table id="t1">
        <tr>
          <td><label><strong>Tender Id: </strong></label></td>
          <td><label id="et_id"></label></td>
          <td><label><strong>Reference No: </strong></label></td>
          <td><label id="ref"></label></td>
          <td><label><strong>Title: </strong></label></td>
          <td><label id="title"></label></td>
        </tr>
        <tr>
          <td><label><strong>Fee: </strong></label></td>
          <td><label id="fee"></label></td>
          <td><label><strong>Bidding Date: </strong></label></td>
          <td><label id="bid"></label></td>
        </tr>
      </table><br><hr><br>
      <h3 style="text-align: left;">Personal Details</h3>
      <table>
        <tr>
          <td><label><strong>Name: </strong></label></td>
          <td><label id="name"></label></td>
          <td><label><strong>DOB: </strong></label></td>
          <td><label id="dob"></label></td>
          <td><label><strong>Designation: </strong></label></td>
          <td><label id="desg"></label></td>
        </tr>
        <tr>
          <td><label><strong>Aadhar No: </strong></label></td>
          <td><label id="aadhar"></label></td>
          <td><label><strong>Email: </strong></label></td>
          <td><label id="email"></label></td>
          <td><label><strong>Contact No: </strong></label></td>
          <td><label id="contact"></label></td>
        </tr>
      </table><br><hr><br>
      <h3 style="text-align: left;">Company Details</h3>
      <table>
        <tr>
          <td><label><strong>Name: </strong></label></td>
          <td><label id="cname"></label></td>
          <td><label><strong>Legal Status: </strong></label></td>
          <td><label id="legal"></label></td>
          <td><label><strong>Estd Year: </strong></label></td>
          <td><label id="yoe"></label></td>
        </tr>
        <tr>
          <td><label><strong>Registration No: </strong></label></td>
          <td><label id="register"></label></td>
          <td><label><strong>GST No: </strong></label></td>
          <td><label id="gst"></label></td>
          <td><label><strong>PAN No: </strong></label></td>
          <td><label id="pan"></label></td>
        </tr>
        <tr>
          <td><label><strong>Email: </strong></label></td>
          <td><label id="cemail"></label></td>
          <td><label><strong>Contact No: </strong></label></td>
          <td><label id="ccontact"></label></td>
          <td><label><strong>Address: </strong></label></td>
          <td><label id="address"></label></td>
        </tr>
      </table><hr>
      <div class="upload_documents">
        <h3 style="text-align: left;">Uploaded Documents</h3><br>
        <table>
          <tr>
            <th>Sr.No.</th>
            <th>File name</th>
            <th>File URI</th>
            <th>File Link</th>
          </tr>
          <tr>
            <td>1</td>
            <td>Tehnical</td>
            <td id="file1"></td>
            <td><a href="">Preview</a></td>
          </tr> 
          <tr>
            <td>2</td>
            <td>BOQ</td>
            <td id="file2"></td>
            <td><a href="">Preview</a></td>
          </tr> 
        </table>  
      </div><hr>
      <div class="payment_details">
        <h3  style="text-align: left;">Payment Details</h3><br>
        <table>
          <tr>
            <th>Transaction ID</th>
            <th>Amount</th>
            <th>Date & Time</th>
            <th>Bank Name</th>
            <th>Payment Method</th>
            <th>Status</th>
          </tr> 
          <tr>
            <td id="transaction"></td>
            <td id="amt"></td>
            <td id="date"></td>
            <td id="bank"></td>
            <td >Debit Card</td>
            <td id="status"></td>
          </tr> 
        </table> 
      </div><br>
      <div id="download">
        <div style="float: left;">
            <p><strong>Place:</strong></p>
            <p id="place">MUMBAI</p><br>
            <p><strong>Date:</strong></p>
            <p id="da_te"></p><br>
            <p><strong>Time:</strong></p>
            <p id="time"></p><br>
          </div>
          <div style="float: right;" onclick="print()">
            <a><img src="pdf.gif" width="55px" height="55px"></a><br>
            <a href="">Download</a>
          </div><br>
      </div>
      <div  class="submit_button" style="display: none;">
        <!-- <button type="button" onclick="back()">Back</button> -->
        <button id ="freeze" type="submit" onclick="freeze()">Freeze Bid</button>
      </div>
    </div>
  </body>

<script type="text/javascript">
    var log_a = document.getElementById("log_a")
    var nav_bar = document.getElementById("nav_bar")
    if(get_cookie("vcd_id") != "")
        {
            log_a.setAttribute("href", "v6_profile.html");
            log_a.innerHTML ="Profile"
            nav_bar.insertAdjacentHTML('beforeend','<a id="log_a" onclick="return theFunctionV();">Log out</a>');
        }
</script>
<script type="text/javascript" src="javascript/v5_confirm_tender.js"></script>
<script type="text/javascript">
  var base64Img = null;
margins = {
  top: 70,
  bottom: 40,
  left: 30,
  width: 550
};

  var d = new Date();
  document.getElementById("da_te").innerHTML = d.getDate() + "-" + d.getMonth() + "-" + d.getFullYear();
  document.getElementById("time").innerHTML = d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds();

  function print() {
		// const filename  = 'ThisIsYourPDFFilename.pdf';

		// html2canvas(document.querySelector('#pdf')).then(canvas => {
		// 	let pdf = new jsPDF('p', 'mm', 'a1');
		// 	pdf.addImage(canvas.toDataURL('image/png'), 'PNG', 0, 0, 211, 298);
		// 	pdf.save(filename);
    // });
    


    var doc = new jsPDF('p','mm', 'a2');
    var header = [1,2,3,4];
    doc.table(10, 10, $('#t1').get(0), header, {
    left:10,
    top:10,
    bottom: 10,
    width: 170,
    autoSize:false,
    printHeaders: true
    });
    doc.save('sample-file.pdf');
	}

// Variant
// This one lets you improve the PDF sharpness by scaling up the HTML node tree to render as an image before getting pasted on the PDF.
function print2() {
		// const filename  = 'ThisIsYourPDFFilename.pdf';

		// html2canvas(document.querySelector('#pdf'), 
		// 						{scale: 1}
		// 				 ).then(canvas => {
		// 	let pdf = new jsPDF('p', 'mm', 'a4');
		// 	pdf.addImage(canvas.toDataURL('image/png'), 'PNG', 0, 0, 211, 298);
		// 	pdf.save(filename);
    // });



    // var options = {
		// //'width': 800,
  	// };
    // var pdf = new jsPDF('p', 'pt', 'a4');
    // console.log($("#pdf"))
  	// pdf.addHTML($("#pdf"), -1, 220, options, function() {
    // 	pdf.save('admit_card.pdf');
    // });
    

    // const element = document.getElementById("invoice");
    //     // Choose the element and save the PDF for our user.
    //     html2pdf()
    //       .from(element)
    //       .save();





  //   var pdf = new jsPDF('p', 'pt', 'a4');
  // pdf.setFontSize(18);
  // pdf.fromHTML(document.getElementById('pdf'), 
  //   margins.left, // x coord
  //   margins.top,
  //   {
  //     // y coord
  //     width: margins.width// max width of content on PDF
  //   },function(dispose) {
  //     headerFooterFormatting(pdf)
  //   }, 
  //   margins);
    
  // var iframe = document.createElement('iframe');
  // iframe.setAttribute('style','position:absolute;right:0; top:0; bottom:0; height:100%; width:650px; padding:20px;');
  // document.body.appendChild(iframe);
  
  // iframe.src = pdf.output('datauristring');
	}
</script>
</html>
